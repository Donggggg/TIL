# JWT

## 구조

- 헤더, 정보, 서명의 구조로 이루어져 있고 .으로 구분이 된다.

### 헤더 (header)

- 토큰의 타입과 암호화 알고리즘을 저장한다.
- 암호화 알고리즘은 HMAC SHA256이나 RSA가 사용된다.

### 정보 (payload)

- `등록된 클레임, 공개 클레임, 비공개 클레임`으로 이루어진다.
- `등록된 클레임`은 토큰에 정보를 담기 위해 이름이 이미 정해진 클레임이다.
- 모두 선택적으로 사용가능하다.
- `공개 클레임`은 충돌이 방지된 이름을 가진다.
- `비공개 클레임`은 실제 데이터이다.

### 서명 (signiture)

- **header의 인코딩**과 **payload의 인코딩**을 합친 후 **비밀키**로 해쉬를 하여 저장한다.
- 이 해쉬를 `base64` 형태로 나타내면 된다.

## 보안

- 보안적으로 위험이 있어 인증 관련에 활용할 경우 신경써서 사용해야 한다.
- 나는 refreshToken과 accessToken을 사용해 https 프로토콜 위에 httpOnly와 secure 쿠키를 사용해서 구현을 했었다.
