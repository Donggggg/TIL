## 챕터 16 - 타임라인 사이에 자원 공유하기

### 16-1. 여전한 버그와 동시성 기본형

DOM 조작이 여전히 버그를 일으키기 때문에 이를 해결해야 한다. 가장 일반적인 방법으로 동시성 기본형을 제공하는 것이다. 큐 자료구조 기반의 잡큐를 만든다.

큐, 자원 1개 플래그를 두고 뮤텍스 락과 비슷하게 구현한다. 시그널링을 안하는 차이점은 있다. 최종 구현체 Queue는 워커 함수를 인자로 받고, 큐에 잡이 들어오면 워커 함수를 동작시킨다. 워커 함수가 끝나면 워커 함수의 콜백이 동작한다. 워커 함수의 콜백은 잡큐의 콜백을 동작시킨다.
`[워커 함수 동작 → 워커 콜백 동작 → 잡큐 콜백 동작]이 하나의 실행 단위이다.`

마지막으로 중복 요청에 대한 처리를 DroppingQueue 라는 것을 통해 제공한다.