## 1장 - 타입스크립트 알아보기

1장에서는 이 책을 본격적으로 다루기 전에 알아야할 내용을 설명한다. 타입스크립트는 무엇이고, 어떻게 여겨야 하고, 자바스크립트와는 어떤 관계이고, 타입이 nullable인지, any 타입은 어떤지, 덕 타이핑이 가능한지 등에 대해 이야기한다.

타입스크립트는 저수준 언어로 컴파일이 되는 것이 아닌 다른 고수준 언어인 자바스크립트로 트랜스파일이 되는 조금 독특한 언어이다. 그렇기에 자바스크립트와의 관계를 더 잘 알게 된다면 타입스크립트를 더욱 잘 알 수 있다.

### 아이템 1 - 타입스크립트와 자바스크립트의 관계 이해하기

`타입스크립트는 (타입이 정의된) 자바스크립트의 상위 집합이다.` 라는 문장을 정확히 이해하기 위해 관계를 제대로 알아야 한다. 다음 표로 타입스크립트와 자바스크립트의 관계의 이해에 도움을 받을 수 있다.

평소에 우리가 작성하는 타입스크립트 프로그램은 **타입 체커를 통과한 타입스크립트 프로그램**이다. 이는 정적 단계에서 수행되는 타입 검증(타입 추론, 타입 정의)을 통과한 .ts 코드이다

타입스크립트의 타입 시스템은 자바스크립트의 런타임 동작을 모델링한다. 자바스크립트의 런타임에서는 정상이지만 타입스크립트의 정적단계에서는 오류인 경우가 있다.

```tsx
const a = null + 7; 
const b = [] + 12;
```

위와 같은 코드는 자바스크립트 런타임에서는 정상 동작이다. 하지만 타입스크립트의 정적단계에서는 오류이다. 이처럼 자바스크립트의 런타임 동작을 활용해야하는 경우는 타입스크립트가 좋은 해결책이 아닐 수도 있다고 한다. (이런걸 활용하지 않는 것이 당연하긴 하다..)

### 아이템 2 - 타입스크립트 설정 이해하기

tsconfig를 통한 타입스크립트 설정은 협업에 유리하고 TS를 더 제대로 활용하는 필수 요소이다. 소스 파일의 위치, 어떤 확장자를 트랜스파일할지에 대한 내용뿐만 아니라 언어 자체의 핵심 요소를 제어할 수 있다. 설정을 잘하기 위해서는 `noImplicitAny` 와 `strictNullChecks` 를 이해하고 적용하는 것을 추천한다.

#### noImplicitAny

암시적인 any 추론을 오류로 판정한다.

#### strictNullChecks

이 옵션이 없으면 null 할당이 자유롭다. (이 옵션을 항상 켜서 자유로운 줄 몰랐다..)

### 아이템 3 - 코드 생성과 타입이 관계없음을 이해하기

타입스크립트 컴파일러는 크게 트랜스파일과 타입체크라는 두 가지 역할을 수행한다. 이 두 가지는 완벽히 독립적이다. 이를 통해 타입스크립트가 할 수 있는 일과 없는 일을 구분할 수 있다.

#### 타입 오류가 있는 코드도 컴파일이 가능하다.

타입 오류가 있다고해도 트랜스파일을 할 수 있다. 이런 프로그램은 타입 체커를 통과하지 못한 타입스크립트이다.

#### 런타임에는 타입 체크가 불가능하다.

런타임에는 JS가 실행되기 때문에 트랜스파일 과정에서 타입 관련 코드는 삭제되므로 타입 체크는 불가능하다. 런타임에도 타입을 확인하고 싶다면 추가적인 방법을 사용해야 한다. **타입 정보를 명시적으로 저장하는 tagged union, 인터페이스 대신 클래스 활용하기**의 방법이 있다.

#### 타입 연산은 런타임에 영향을 주지 않습니다.

타입 단언 등의 타입 연산은 런타임에 영향을 미치지 않기 때문에 값을 정제하기 위해서는 자바스크립트 연산을 통해야 한다.

#### 런타임 타입은 선언된 타입과 다를 수 있다.

서버 API 응답값과 같은 데이터는 런타임에 달라질 수 있다.

#### 타입스크립트 타입은 함수를 오버로드할 수 없다.

오버로딩을 지원은 하지만 타입 수준에서만 동작하고 트랜스파일 후에는 구현체가 하나로 통합된다.

#### 타입스크립트 타입은 런타임 성능에 영향을 주지 않는다.

당연하게 런타임에는 타입이 삭제되기에 런타임 성능에 영향을 주지 않는다. 하지만 빌드타임 오버헤드는 있다. 이를 해결하기 위해 타입스크립트 개발진들이 최적화를 신경써서 개발한다. 증분 빌드시에 더 체감할 수 있고, 오버헤드가 커지면 트랜스파일 시에 타입 체크를 건너뛸 수 있는 옵션을 설정할 수 있다.

### 아이템 4 - 구조적 타이핑에 익숙해지기

타입스크립트는 덕 타이핑 + 구조적 타이핑 기반이다. 이를 활용할 수도 있고(인터페이스에 대해 열린 형태로 개발), 예상치 못한 상황에 부닥칠 수도 있다.

### 아이템 5 - any 타입 지양하기

any 타입은 타입스크립트를 사용함으로써 누릴 수 있는 장점을 없애기 때문에 지양해야 한다. 타입 안전성을 없애고 함수 시그너치를 무시하고 개발 경험을 악화시키고 타입 시스템의 신뢰도를 떨어뜨린다.